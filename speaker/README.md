# گزارش کار پروژه پخش ملودی با آردوینو

## هدف:
هدف این پروژه، تولید یک ملودی کوتاه با استفاده از یک برد آردوینو و یک بلندگوی پیزو است. با استفاده از کد نوشته شده، برد آردوینو صداهای مختلفی را با فرکانس‌های معین تولید می‌کند و بدین ترتیب می‌تواند یک ملودی ساده را اجرا کند.

## وسایل مورد نیاز:
1. برد آردوینو (مثلاً آردوینو Uno)
2. بلندگوی پیزو - این بلندگو قادر به تولید صداهای مختلف با فرکانس‌های متنوع است.
3. سیم‌های جامپر برای اتصال بلندگو به آردوینو

## نحوه بستن مدار:
1. پایه مثبت بلندگوی پیزو را به پایه دیجیتال شماره 9 آردوینو متصل کنید.
2. پایه منفی بلندگوی پیزو را به پایه GND (زمین) آردوینو متصل کنید.
   
با این اتصال، آردوینو می‌تواند سیگنال‌های الکتریکی را به بلندگو ارسال کند و بدین ترتیب صدا تولید کند.

![SPEKER](https://github.com/user-attachments/assets/ca78c580-1498-4add-9416-97a323fdc78c)

 
## کد
```
#include "pitches.h"
// notes in the melody:
int melody[] = {
  NOTE_C4, NOTE_G3, NOTE_G3, NOTE_GS3, NOTE_G3, 0, NOTE_B3, NOTE_C4
};
// note durations: 4 = quarter note, 8 = eighth note, etc.:

int noteDurations[] = {
  4, 8, 8, 4, 4, 4, 4, 4
};

void setup() {
  // iterate over the notes of the melody:
  for (int thisNote = 0; thisNote < 8; thisNote++) {
    // to calculate the note duration, take one second
    // divided by the note type.
    //e.g. quarter note = 1000 / 4, eighth note = 1000/8, etc.
    int noteDuration = 1000 / noteDurations[thisNote];
    tone(8, melody[thisNote], noteDuration);
    //pause for the note's duration plus 30 ms:
    delay(noteDuration + 30);
  }
}

void loop() {
  // no need to repeat the melody.
}
```
## توضیحات کد:

این کد از یک آرایه‌ای از فرکانس‌های مختلف برای تولید نت‌های موسیقی و یک آرایه دیگر برای زمان‌های هر نت استفاده می‌کند. در زیر هر بخش کد توضیح داده شده است:

1. تعریف نت‌های ملودی:
  
   int melody[] = { NOTE_C4, NOTE_G3, NOTE_G3, NOTE_GS3, NOTE_G3, 0, NOTE_B3, NOTE_C4 };
   
   این آرایه شامل فرکانس نت‌های مختلف (مانند C4 و G3) است که قرار است توسط بلندگو تولید شوند. از کتابخانه pitches.h برای استفاده از نام‌های استاندارد نت‌ها بهره گرفته شده است.

2. تعریف مدت زمان نت‌ها:
  
   int noteDurations[] = { 4, 8, 8, 4, 4, 4, 4, 4 };
   
   این آرایه مدت زمان هر نت را مشخص می‌کند. اعداد نشان‌دهنده نوع نت‌ها هستند. به عنوان مثال، 4 برای نت سیاه (یک چهارم) و 8 برای نت چنگ (یک هشتم) استفاده شده است.

3. تابع setup:
   در این بخش، کد یک حلقه for ایجاد می‌کند که برای اجرای هر نت از ملودی به کار می‌رود:
  
   void setup() {
     for (int thisNote = 0; thisNote < 8; thisNote++) {
       int noteDuration = 1000 / noteDurations[thisNote];
       tone(8, melody[thisNote], noteDuration);
       delay(noteDuration + 30);
     }
   }
   
   - تکرار نت‌ها: حلقه از اولین تا آخرین نت آرایه melody را اجرا می‌کند.
   - محاسبه مدت زمان نت‌ها: مدت زمان هر نت با توجه به آرایه noteDurations محاسبه می‌شود. هر نت بر اساس رابطه 1000 / نوع نت محاسبه می‌شود؛ برای مثال، اگر نوع نت 4 باشد، مدت زمان آن 250 میلی‌ثانیه خواهد بود.
   - اجرای نت: تابع tone() برای تولید صدا با فرکانس مشخص استفاده می‌شود. در اینجا، 8 شماره پایه‌ای است که بلندگو به آن متصل است.
   - وقفه کوتاه: برای ایجاد یک فاصله کوچک بین نت‌ها، یک تاخیر اضافی 30 میلی‌ثانیه اضافه شده است.

4. تابع loop:
  
   void loop() {
     // no need to repeat the melody.
   }
   
   این تابع خالی است زیرا نیازی به تکرار ملودی نیست؛ ملودی فقط یک بار در setup پخش می‌شود.

## نتیجه‌گیری:
در این پروژه، با استفاده از آردوینو و یک بلندگوی پیزو، توانستیم یک ملودی ساده را اجرا کنیم. کد به صورتی طراحی شده که می‌تواند به راحتی تغییر داده شود و نت‌های دیگری را نیز پخش کند. با استفاده از کتابخانه pitches.h امکان ایجاد صدای نت‌های استاندارد موسیقی فراهم شده و هر نت با زمان‌بندی مشخصی اجرا می‌شود.
